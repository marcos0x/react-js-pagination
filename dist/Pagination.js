"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,s){for(var a=0;a<s.length;a++){var t=s[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,a,t){return a&&e(s.prototype,a),t&&e(s,t),s}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_paginator=require("paginator"),_paginator2=_interopRequireDefault(_paginator),_Page=require("./Page"),_Page2=_interopRequireDefault(_Page),_classnames=require("classnames"),_classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function _inherits(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}var Pagination=function(e){function s(){return _classCallCheck(this,s),_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _inherits(s,_react2.default.Component),_createClass(s,[{key:"isFirstPageVisible",value:function(e){var s=this.props,a=s.hideDisabled;s.hideNavigation;return!(s.hideFirstLastPages||a&&!e)}},{key:"isPrevPageVisible",value:function(e){var s=this.props,a=s.hideDisabled;return!(s.hideNavigation||a&&!e)}},{key:"isNextPageVisible",value:function(e){var s=this.props,a=s.hideDisabled;return!(s.hideNavigation||a&&!e)}},{key:"isLastPageVisible",value:function(e){var s=this.props,a=s.hideDisabled;s.hideNavigation;return!(s.hideFirstLastPages||a&&!e)}},{key:"buildPages",value:function(){var e=[],s=this.props,a=s.itemsCountPerPage,t=s.activePage,i=s.ellipsisText,l=s.prevPageText,r=s.nextPageText,p=s.firstPageText,n=s.lastPageText,u=s.totalItemsCount,o=s.onChange,_=s.activeClass,g=s.ellipsisClass,f=s.itemClass,d=s.itemClassFirst,c=s.itemClassPrev,y=s.itemClassNext,C=s.itemClassLast,T=s.activeLinkClass,P=s.disabledClass,m=(s.hideDisabled,s.hideNavigation,s.linkClass),h=s.linkClassFirst,b=s.linkClassPrev,v=s.linkClassNext,k=s.linkClassLast,x=s.hideFirstLastPages,D=s.getPageUrl,N=this.props.pageRangeDisplayed,L=new _paginator2.default(a,N).build(u,t);x||t!=L.first_page&&t!=L.last_page||(N-=1,L=new _paginator2.default(a,N).build(u,t));for(var O=x?L.first_page:L.first_page+1,R=x?L.last_page:L.last_page-1,q=O;q<=R;q++)e.push(_react2.default.createElement(_Page2.default,{isActive:q===t,key:q,href:D(q),pageNumber:q,pageText:q+"",onClick:o,itemClass:f,linkClass:m,activeClass:_,activeLinkClass:T}));return this.isFirstPageVisible(L.has_previous_page)&&!x&&t>1&&e.unshift(_react2.default.createElement(_Page2.default,{key:"ellipsisFirst",isEllipsis:!0,pageText:i,itemClass:(0,_classnames2.default)(f),ellipsisClass:(0,_classnames2.default)(g)})),this.isFirstPageVisible(L.has_previous_page)&&e.unshift(_react2.default.createElement(_Page2.default,{key:"first",pageNumber:1,onClick:o,pageText:p,isDisabled:!L.has_previous_page,itemClass:(0,_classnames2.default)(f,d),linkClass:(0,_classnames2.default)(m,h),disabledClass:P})),this.isPrevPageVisible(L.has_previous_page)&&e.unshift(_react2.default.createElement(_Page2.default,{key:"prev"+L.previous_page,pageNumber:L.previous_page,onClick:o,pageText:l,isDisabled:!L.has_previous_page,itemClass:(0,_classnames2.default)(f,c),linkClass:(0,_classnames2.default)(m,b),disabledClass:P})),this.isLastPageVisible(L.has_next_page)&&!x&&t<L.last_page&&e.push(_react2.default.createElement(_Page2.default,{key:"ellipsisLast",isEllipsis:!0,pageText:i,itemClass:(0,_classnames2.default)(f),ellipsisClass:(0,_classnames2.default)(g)})),this.isLastPageVisible(L.has_next_page)&&e.push(_react2.default.createElement(_Page2.default,{key:"last",pageNumber:L.total_pages,onClick:o,pageText:n||L.total_pages,isDisabled:L.current_page===L.total_pages,itemClass:(0,_classnames2.default)(f,C),linkClass:(0,_classnames2.default)(m,k),disabledClass:P})),this.isNextPageVisible(L.has_next_page)&&e.push(_react2.default.createElement(_Page2.default,{key:"next"+L.next_page,pageNumber:L.next_page,onClick:o,pageText:r,isDisabled:!L.has_next_page,itemClass:(0,_classnames2.default)(f,y),linkClass:(0,_classnames2.default)(m,v),disabledClass:P})),e}},{key:"render",value:function(){var e=this.buildPages();return _react2.default.createElement("ul",{className:this.props.innerClass},e)}}]),s}();Pagination.propTypes={totalItemsCount:_propTypes2.default.number.isRequired,onChange:_propTypes2.default.func.isRequired,activePage:_propTypes2.default.number,itemsCountPerPage:_propTypes2.default.number,pageRangeDisplayed:_propTypes2.default.number,ellipsisText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),prevPageText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),nextPageText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),lastPageText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),firstPageText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.element]),disabledClass:_propTypes2.default.string,hideDisabled:_propTypes2.default.bool,hideNavigation:_propTypes2.default.bool,innerClass:_propTypes2.default.string,ellipsisClass:_propTypes2.default.string,itemClass:_propTypes2.default.string,itemClassFirst:_propTypes2.default.string,itemClassPrev:_propTypes2.default.string,itemClassNext:_propTypes2.default.string,itemClassLast:_propTypes2.default.string,linkClass:_propTypes2.default.string,activeClass:_propTypes2.default.string,activeLinkClass:_propTypes2.default.string,linkClassFirst:_propTypes2.default.string,linkClassPrev:_propTypes2.default.string,linkClassNext:_propTypes2.default.string,linkClassLast:_propTypes2.default.string,hideFirstLastPages:_propTypes2.default.bool,getPageUrl:_propTypes2.default.func},Pagination.defaultProps={itemsCountPerPage:10,pageRangeDisplayed:5,activePage:1,ellipsisText:"...",prevPageText:"⟨",firstPageText:"1",nextPageText:"⟩",lastPageText:"",innerClass:"pagination",ellipsisClass:"pagination-ellipsis",itemClass:void 0,linkClass:void 0,activeLinkClass:void 0,hideFirstLastPages:!1,getPageUrl:function(e){return"#"}},exports.default=Pagination;